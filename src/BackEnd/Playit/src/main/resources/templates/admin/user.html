<!DOCTYPE html>
<html lang="es">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Usuarios</title>
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link th:insert="parts/link.html">
<link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/css/admin/general.css">


</head>

<body>

	<div th:replace="parts/header.html :: admin_header"></div>
	<main>
		<div>
			<button>
				<a th:href="@{'/user/add'}">Añadir usuario</a>
			</button>
		</div>
		<section>
			<table>
				<tr>
					<th>Nombre de usuario</th>
					<th>E-Mail</th>
					<th>Role de usuario</th>
				</tr>
				<tr th:each="u : ${users}">
					<td th:text="${u.getUserName()}"></td>
					<td th:text="${u.getEmail()}"></td>
					<td th:if="${u.getRole() == 'ROLE_ADMIN'}" th:text="Administrador"></td>
					<td th:if="${u.getRole() == 'ROLE_USER'}" th:text="Estandard"></td>
					<td><a th:href="@{'/user/edit?userId='+${u.getId_usuario()}}"><span
							class="material-symbols-outlined">edit</span></a> <a
						th:href="@{'/user/delete?userId='+${u.getId_usuario()}}"><span
							class="material-symbols-outlined">delete</span></a></td>
				</tr>
			</table>
		</section>
		<h5 class="center-align #2196f3 white-text"
			th:if="${userDeletedId!=null}"
			th:text="${'El usuario ha sido eliminado correctamente. '}"></h5>
		<h5 class="center-align #2196f3 white-text" th:if="${userAdded=='ok'}"
			th:text="${'El usuario ha sido añadido correctamente. '}"></h5>
		<h5 class="center-align #2196f3 white-text"
			th:if="${userEdited=='ok'}"
			th:text="${'El usuario ha sido editado correctamente. '}"></h5>
		<h4 class="center-align #2196f3 white-text" th:if="${users.size()==0}">¡Oh
			No! ¡No existe ningún usuario!.</h4>
	</main>
</body>
<script th:replace="parts/scripts.html :: sidenav"></script>
</html>